{
  "id": "a7234271-de76-4a79-b52e-c5e1d15a0769",
  "prevId": "9350c1c3-02ea-48b7-a9e9-e81b5c28a817",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agents": {
      "name": "agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creator_id": {
          "name": "creator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "personality": {
          "name": "personality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_tools": {
          "name": "input_tools",
          "type": "input_tool[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "output_modes": {
          "name": "output_modes",
          "type": "output_mode[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "managed_by_admin": {
          "name": "managed_by_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "chat_model_id": {
          "name": "chat_model_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "style_color": {
          "name": "style_color",
          "type": "style_color",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'orange'"
        },
        "style_icon": {
          "name": "style_icon",
          "type": "style_icon",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Lightbulb'"
        },
        "privacy_level": {
          "name": "privacy_level",
          "type": "privacy_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "is_hidden": {
          "name": "is_hidden",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agents_creator_id_khoj_users_id_fk": {
          "name": "agents_creator_id_khoj_users_id_fk",
          "tableFrom": "agents",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "creator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agents_chat_model_id_chat_models_id_fk": {
          "name": "agents_chat_model_id_chat_models_id_fk",
          "tableFrom": "agents",
          "tableTo": "chat_models",
          "columnsFrom": [
            "chat_model_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agents_slug_unique": {
          "name": "agents_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_model_apis": {
      "name": "ai_model_apis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "api_base_url": {
          "name": "api_base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_models": {
      "name": "chat_models",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "max_prompt_size": {
          "name": "max_prompt_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "subscribed_max_prompt_size": {
          "name": "subscribed_max_prompt_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tokenizer": {
          "name": "tokenizer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gemini-2.5-flash'"
        },
        "friendly_name": {
          "name": "friendly_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_type": {
          "name": "model_type",
          "type": "chat_model_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'google'"
        },
        "price_tier": {
          "name": "price_tier",
          "type": "price_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "vision_enabled": {
          "name": "vision_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ai_model_api_id": {
          "name": "ai_model_api_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_models_ai_model_api_id_ai_model_apis_id_fk": {
          "name": "chat_models_ai_model_api_id_ai_model_apis_id_fk",
          "tableFrom": "chat_models",
          "tableTo": "ai_model_apis",
          "columnsFrom": [
            "ai_model_api_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_applications": {
      "name": "client_applications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_secret": {
          "name": "client_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_log": {
          "name": "conversation_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "client_id": {
          "name": "client_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_filters": {
          "name": "file_filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conversations_user_id_khoj_users_id_fk": {
          "name": "conversations_user_id_khoj_users_id_fk",
          "tableFrom": "conversations",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversations_client_id_client_applications_id_fk": {
          "name": "conversations_client_id_client_applications_id_fk",
          "tableFrom": "conversations",
          "tableTo": "client_applications",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversations_agent_id_agents_id_fk": {
          "name": "conversations_agent_id_agents_id_fk",
          "tableFrom": "conversations",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_stores": {
      "name": "data_stores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "data_stores_owner_id_khoj_users_id_fk": {
          "name": "data_stores_owner_id_khoj_users_id_fk",
          "tableFrom": "data_stores",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "data_stores_key_unique": {
          "name": "data_stores_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.entries": {
      "name": "entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "embeddings": {
          "name": "embeddings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "raw": {
          "name": "raw",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compiled": {
          "name": "compiled",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "heading": {
          "name": "heading",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_source": {
          "name": "file_source",
          "type": "entry_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'computer'"
        },
        "file_type": {
          "name": "file_type",
          "type": "entry_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'plaintext'"
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hashed_value": {
          "name": "hashed_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "corpus_id": {
          "name": "corpus_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "search_model_id": {
          "name": "search_model_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_object_id": {
          "name": "file_object_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "entries_user_id_khoj_users_id_fk": {
          "name": "entries_user_id_khoj_users_id_fk",
          "tableFrom": "entries",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "entries_agent_id_agents_id_fk": {
          "name": "entries_agent_id_agents_id_fk",
          "tableFrom": "entries",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "entries_search_model_id_search_model_configs_id_fk": {
          "name": "entries_search_model_id_search_model_configs_id_fk",
          "tableFrom": "entries",
          "tableTo": "search_model_configs",
          "columnsFrom": [
            "search_model_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "entries_file_object_id_file_objects_id_fk": {
          "name": "entries_file_object_id_file_objects_id_fk",
          "tableFrom": "entries",
          "tableTo": "file_objects",
          "columnsFrom": [
            "file_object_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.entry_dates": {
      "name": "entry_dates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "entry_id": {
          "name": "entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "entry_dates_entry_id_entries_id_fk": {
          "name": "entry_dates_entry_id_entries_id_fk",
          "tableFrom": "entry_dates",
          "tableTo": "entries",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.file_objects": {
      "name": "file_objects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_text": {
          "name": "raw_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "file_objects_user_id_khoj_users_id_fk": {
          "name": "file_objects_user_id_khoj_users_id_fk",
          "tableFrom": "file_objects",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "file_objects_agent_id_agents_id_fk": {
          "name": "file_objects_agent_id_agents_id_fk",
          "tableFrom": "file_objects",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.github_configs": {
      "name": "github_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pat_token": {
          "name": "pat_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "github_configs_user_id_khoj_users_id_fk": {
          "name": "github_configs_user_id_khoj_users_id_fk",
          "tableFrom": "github_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.github_repo_configs": {
      "name": "github_repo_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner": {
          "name": "owner",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "branch": {
          "name": "branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "github_config_id": {
          "name": "github_config_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "github_repo_configs_github_config_id_github_configs_id_fk": {
          "name": "github_repo_configs_github_config_id_github_configs_id_fk",
          "tableFrom": "github_repo_configs",
          "tableTo": "github_configs",
          "columnsFrom": [
            "github_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.google_users": {
      "name": "google_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sub": {
          "name": "sub",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "azp": {
          "name": "azp",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "given_name": {
          "name": "given_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "family_name": {
          "name": "family_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "picture": {
          "name": "picture",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "locale": {
          "name": "locale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "google_users_user_id_khoj_users_id_fk": {
          "name": "google_users_user_id_khoj_users_id_fk",
          "tableFrom": "google_users",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.khoj_api_users": {
      "name": "khoj_api_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "accessed_at": {
          "name": "accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "khoj_api_users_user_id_khoj_users_id_fk": {
          "name": "khoj_api_users_user_id_khoj_users_id_fk",
          "tableFrom": "khoj_api_users",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "khoj_api_users_token_unique": {
          "name": "khoj_api_users_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.khoj_users": {
      "name": "khoj_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_superuser": {
          "name": "is_superuser",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_staff": {
          "name": "is_staff",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "date_joined": {
          "name": "date_joined",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_phone_number": {
          "name": "verified_phone_number",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "verified_email": {
          "name": "verified_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "email_verification_code": {
          "name": "email_verification_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verification_code_expiry": {
          "name": "email_verification_code_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "khoj_users_uuid_unique": {
          "name": "khoj_users_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        },
        "khoj_users_username_unique": {
          "name": "khoj_users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.local_markdown_configs": {
      "name": "local_markdown_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "input_files": {
          "name": "input_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "input_filter": {
          "name": "input_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "index_heading_entries": {
          "name": "index_heading_entries",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "local_markdown_configs_user_id_khoj_users_id_fk": {
          "name": "local_markdown_configs_user_id_khoj_users_id_fk",
          "tableFrom": "local_markdown_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.local_org_configs": {
      "name": "local_org_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "input_files": {
          "name": "input_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "input_filter": {
          "name": "input_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "index_heading_entries": {
          "name": "index_heading_entries",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "local_org_configs_user_id_khoj_users_id_fk": {
          "name": "local_org_configs_user_id_khoj_users_id_fk",
          "tableFrom": "local_org_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.local_pdf_configs": {
      "name": "local_pdf_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "input_files": {
          "name": "input_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "input_filter": {
          "name": "input_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "index_heading_entries": {
          "name": "index_heading_entries",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "local_pdf_configs_user_id_khoj_users_id_fk": {
          "name": "local_pdf_configs_user_id_khoj_users_id_fk",
          "tableFrom": "local_pdf_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.local_plaintext_configs": {
      "name": "local_plaintext_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "input_files": {
          "name": "input_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "input_filter": {
          "name": "input_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "index_heading_entries": {
          "name": "index_heading_entries",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "local_plaintext_configs_user_id_khoj_users_id_fk": {
          "name": "local_plaintext_configs_user_id_khoj_users_id_fk",
          "tableFrom": "local_plaintext_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notion_configs": {
      "name": "notion_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notion_configs_user_id_khoj_users_id_fk": {
          "name": "notion_configs_user_id_khoj_users_id_fk",
          "tableFrom": "notion_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.process_locks": {
      "name": "process_locks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "process_lock_operation",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "max_duration_in_seconds": {
          "name": "max_duration_in_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 43200
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "process_locks_name_unique": {
          "name": "process_locks_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.public_conversations": {
      "name": "public_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source_owner_id": {
          "name": "source_owner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_log": {
          "name": "conversation_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "public_conversations_source_owner_id_khoj_users_id_fk": {
          "name": "public_conversations_source_owner_id_khoj_users_id_fk",
          "tableFrom": "public_conversations",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "source_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "public_conversations_agent_id_agents_id_fk": {
          "name": "public_conversations_agent_id_agents_id_fk",
          "tableFrom": "public_conversations",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rate_limit_records": {
      "name": "rate_limit_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reflective_questions": {
      "name": "reflective_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reflective_questions_user_id_khoj_users_id_fk": {
          "name": "reflective_questions_user_id_khoj_users_id_fk",
          "tableFrom": "reflective_questions",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.search_model_configs": {
      "name": "search_model_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'default'"
        },
        "model_type": {
          "name": "model_type",
          "type": "search_model_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'text'"
        },
        "bi_encoder": {
          "name": "bi_encoder",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'thenlper/gte-small'"
        },
        "bi_encoder_model_config": {
          "name": "bi_encoder_model_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "bi_encoder_query_encode_config": {
          "name": "bi_encoder_query_encode_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "bi_encoder_docs_encode_config": {
          "name": "bi_encoder_docs_encode_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "cross_encoder": {
          "name": "cross_encoder",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'mixedbread-ai/mxbai-rerank-xsmall-v1'"
        },
        "cross_encoder_model_config": {
          "name": "cross_encoder_model_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "embeddings_inference_endpoint": {
          "name": "embeddings_inference_endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embeddings_inference_endpoint_api_key": {
          "name": "embeddings_inference_endpoint_api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embeddings_inference_endpoint_type": {
          "name": "embeddings_inference_endpoint_type",
          "type": "search_model_api_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'local'"
        },
        "cross_encoder_inference_endpoint": {
          "name": "cross_encoder_inference_endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_encoder_inference_endpoint_api_key": {
          "name": "cross_encoder_inference_endpoint_api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bi_encoder_confidence_threshold": {
          "name": "bi_encoder_confidence_threshold",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.18
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.server_chat_settings": {
      "name": "server_chat_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "chat_default_id": {
          "name": "chat_default_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chat_advanced_id": {
          "name": "chat_advanced_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "web_scraper_id": {
          "name": "web_scraper_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "server_chat_settings_chat_default_id_chat_models_id_fk": {
          "name": "server_chat_settings_chat_default_id_chat_models_id_fk",
          "tableFrom": "server_chat_settings",
          "tableTo": "chat_models",
          "columnsFrom": [
            "chat_default_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "server_chat_settings_chat_advanced_id_chat_models_id_fk": {
          "name": "server_chat_settings_chat_advanced_id_chat_models_id_fk",
          "tableFrom": "server_chat_settings",
          "tableTo": "chat_models",
          "columnsFrom": [
            "chat_advanced_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "server_chat_settings_web_scraper_id_web_scrapers_id_fk": {
          "name": "server_chat_settings_web_scraper_id_web_scrapers_id_fk",
          "tableFrom": "server_chat_settings",
          "tableTo": "web_scrapers",
          "columnsFrom": [
            "web_scraper_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.speech_to_text_model_options": {
      "name": "speech_to_text_model_options",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'whisper-1'"
        },
        "friendly_name": {
          "name": "friendly_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_type": {
          "name": "model_type",
          "type": "speech_to_text_model_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'openai'"
        },
        "price_tier": {
          "name": "price_tier",
          "type": "price_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "ai_model_api_id": {
          "name": "ai_model_api_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "speech_to_text_model_options_ai_model_api_id_ai_model_apis_id_fk": {
          "name": "speech_to_text_model_options_ai_model_api_id_ai_model_apis_id_fk",
          "tableFrom": "speech_to_text_model_options",
          "tableTo": "ai_model_apis",
          "columnsFrom": [
            "ai_model_api_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "subscription_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "renewal_date": {
          "name": "renewal_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "enabled_trial_at": {
          "name": "enabled_trial_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subscriptions_user_id_khoj_users_id_fk": {
          "name": "subscriptions_user_id_khoj_users_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.text_to_image_model_configs": {
      "name": "text_to_image_model_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'dall-e-3'"
        },
        "friendly_name": {
          "name": "friendly_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_type": {
          "name": "model_type",
          "type": "text_to_image_model_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'openai'"
        },
        "price_tier": {
          "name": "price_tier",
          "type": "price_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_model_api_id": {
          "name": "ai_model_api_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "text_to_image_model_configs_ai_model_api_id_ai_model_apis_id_fk": {
          "name": "text_to_image_model_configs_ai_model_api_id_ai_model_apis_id_fk",
          "tableFrom": "text_to_image_model_configs",
          "tableTo": "ai_model_apis",
          "columnsFrom": [
            "ai_model_api_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_conversation_configs": {
      "name": "user_conversation_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "setting_id": {
          "name": "setting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_conversation_configs_user_id_khoj_users_id_fk": {
          "name": "user_conversation_configs_user_id_khoj_users_id_fk",
          "tableFrom": "user_conversation_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_conversation_configs_setting_id_chat_models_id_fk": {
          "name": "user_conversation_configs_setting_id_chat_models_id_fk",
          "tableFrom": "user_conversation_configs",
          "tableTo": "chat_models",
          "columnsFrom": [
            "setting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_requests": {
      "name": "user_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_requests_user_id_khoj_users_id_fk": {
          "name": "user_requests_user_id_khoj_users_id_fk",
          "tableFrom": "user_requests",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_text_to_image_model_configs": {
      "name": "user_text_to_image_model_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "setting_id": {
          "name": "setting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_text_to_image_model_configs_user_id_khoj_users_id_fk": {
          "name": "user_text_to_image_model_configs_user_id_khoj_users_id_fk",
          "tableFrom": "user_text_to_image_model_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_text_to_image_model_configs_setting_id_text_to_image_model_configs_id_fk": {
          "name": "user_text_to_image_model_configs_setting_id_text_to_image_model_configs_id_fk",
          "tableFrom": "user_text_to_image_model_configs",
          "tableTo": "text_to_image_model_configs",
          "columnsFrom": [
            "setting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_voice_model_configs": {
      "name": "user_voice_model_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "setting_id": {
          "name": "setting_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_voice_model_configs_user_id_khoj_users_id_fk": {
          "name": "user_voice_model_configs_user_id_khoj_users_id_fk",
          "tableFrom": "user_voice_model_configs",
          "tableTo": "khoj_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_voice_model_configs_setting_id_voice_model_options_id_fk": {
          "name": "user_voice_model_configs_setting_id_voice_model_options_id_fk",
          "tableFrom": "user_voice_model_configs",
          "tableTo": "voice_model_options",
          "columnsFrom": [
            "setting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.voice_model_options": {
      "name": "voice_model_options",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "model_id": {
          "name": "model_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price_tier": {
          "name": "price_tier",
          "type": "price_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_scrapers": {
      "name": "web_scrapers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "web_scraper_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Jina'"
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_url": {
          "name": "api_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "web_scrapers_name_unique": {
          "name": "web_scrapers_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "web_scrapers_priority_unique": {
          "name": "web_scrapers_priority_unique",
          "nullsNotDistinct": false,
          "columns": [
            "priority"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.chat_model_type": {
      "name": "chat_model_type",
      "schema": "public",
      "values": [
        "openai",
        "anthropic",
        "google"
      ]
    },
    "public.entry_source": {
      "name": "entry_source",
      "schema": "public",
      "values": [
        "computer",
        "notion",
        "github"
      ]
    },
    "public.entry_type": {
      "name": "entry_type",
      "schema": "public",
      "values": [
        "image",
        "pdf",
        "plaintext",
        "markdown",
        "org",
        "notion",
        "github",
        "conversation",
        "docx"
      ]
    },
    "public.input_tool": {
      "name": "input_tool",
      "schema": "public",
      "values": [
        "general",
        "online",
        "notes",
        "webpage",
        "code"
      ]
    },
    "public.output_mode": {
      "name": "output_mode",
      "schema": "public",
      "values": [
        "image",
        "diagram"
      ]
    },
    "public.price_tier": {
      "name": "price_tier",
      "schema": "public",
      "values": [
        "free",
        "standard"
      ]
    },
    "public.privacy_level": {
      "name": "privacy_level",
      "schema": "public",
      "values": [
        "public",
        "private",
        "protected"
      ]
    },
    "public.process_lock_operation": {
      "name": "process_lock_operation",
      "schema": "public",
      "values": [
        "index_content",
        "scheduled_job",
        "schedule_leader",
        "apply_migrations"
      ]
    },
    "public.search_model_api_type": {
      "name": "search_model_api_type",
      "schema": "public",
      "values": [
        "huggingface",
        "openai",
        "local"
      ]
    },
    "public.search_model_type": {
      "name": "search_model_type",
      "schema": "public",
      "values": [
        "text"
      ]
    },
    "public.speech_to_text_model_type": {
      "name": "speech_to_text_model_type",
      "schema": "public",
      "values": [
        "openai"
      ]
    },
    "public.style_color": {
      "name": "style_color",
      "schema": "public",
      "values": [
        "blue",
        "green",
        "red",
        "yellow",
        "orange",
        "purple",
        "pink",
        "teal",
        "cyan",
        "lime",
        "indigo",
        "fuchsia",
        "rose",
        "sky",
        "amber",
        "emerald"
      ]
    },
    "public.style_icon": {
      "name": "style_icon",
      "schema": "public",
      "values": [
        "Lightbulb",
        "Health",
        "Robot",
        "Aperture",
        "GraduationCap",
        "Jeep",
        "Island",
        "MathOperations",
        "Asclepius",
        "Couch",
        "Code",
        "Atom",
        "ClockCounterClockwise",
        "PencilLine",
        "Chalkboard",
        "Cigarette",
        "CraneTower",
        "Heart",
        "Leaf",
        "NewspaperClipping",
        "OrangeSlice",
        "SmileyMelting",
        "YinYang",
        "SneakerMove",
        "Student",
        "Oven",
        "Gavel",
        "Broadcast"
      ]
    },
    "public.subscription_type": {
      "name": "subscription_type",
      "schema": "public",
      "values": [
        "trial",
        "standard"
      ]
    },
    "public.text_to_image_model_type": {
      "name": "text_to_image_model_type",
      "schema": "public",
      "values": [
        "openai",
        "stability-ai",
        "replicate",
        "google"
      ]
    },
    "public.web_scraper_type": {
      "name": "web_scraper_type",
      "schema": "public",
      "values": [
        "Firecrawl",
        "Olostep",
        "Jina",
        "Direct"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
